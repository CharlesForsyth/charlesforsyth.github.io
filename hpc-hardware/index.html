<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Hardware - Charles Forsyth</title>
        <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/docco.min.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap-3.0.3.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container">

                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="..">Charles Forsyth</a>
                </div>

                <!-- Expanded navigation -->
                <div class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li >
                                <a href="..">Home</a>
                            </li>
                            <li >
                                <a href="../cv/">CV</a>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">High Performance Computing <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../hpc-home/">Intro</a>
</li>
                                    
<li >
    <a href="../hpc-linux/">Linux Basics</a>
</li>
                                    
<li class="active">
    <a href="./">Hardware</a>
</li>
                                    
<li >
    <a href="../hpc-provisioning/">Provisioning</a>
</li>
                                    
<li >
    <a href="../hpc-architecture/">Architecture</a>
</li>
                                    
<li >
    <a href="../hpc-schedulers/">Schedulers</a>
</li>
                                    
<li >
    <a href="../hpc-software/">Software</a>
</li>
                                    
<li >
    <a href="../hpc-code/">Code</a>
</li>
                                    
<li >
    <a href="../hpc-aws/">HPC in the Cloud</a>
</li>
                                    
<li >
    <a href="../hpc-monitoring/">Monitoring</a>
</li>
                                    
<li >
    <a href="../hpc-metrics/">Metrics</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Docs <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../presentations/">Presentations</a>
</li>
                                    
<li >
    <a href="../project2/">Project 2</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li >
                                <a rel="next" href="../hpc-linux/">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li >
                                <a rel="prev" href="../hpc-provisioning/">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#hpc-hardware">HPC Hardware</a></li>
            <li><a href="#switches">Switches</a></li>
            <li><a href="#cables">Cables</a></li>
            <li><a href="#storage">Storage</a></li>
            <li><a href="#nodes">Nodes</a></li>
            <li><a href="#power">Power</a></li>
            <li><a href="#cooling">Cooling</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="hpc-hardware">HPC Hardware</h1>
<ul>
<li>Switches</li>
<li>Cables</li>
<li>Storage</li>
<li>Nodes</li>
<li>Power</li>
<li>Cooling</li>
</ul>
<h2 id="switches">Switches</h2>
<ul>
<li>Ethernet</li>
<li>Infiniband<ul>
<li>QDR</li>
<li>FDR</li>
<li>EDR</li>
<li>Director Switch</li>
<li>Satellite Switches</li>
</ul>
</li>
<li>FiberChannel<ul>
<li>HBAs</li>
<li>16G</li>
</ul>
</li>
</ul>
<h2 id="cables">Cables</h2>
<ul>
<li>Ethernet<ul>
<li>Copper<ul>
<li>CAT 5/6</li>
</ul>
</li>
<li>Fiber<ul>
<li>Single</li>
<li>Multi-Mode</li>
</ul>
</li>
</ul>
</li>
<li>Infiniband<ul>
<li>QDR</li>
<li>FDR</li>
<li>EDR</li>
<li>Copper</li>
<li>Fiber</li>
</ul>
</li>
<li>FiberChannel<ul>
<li>Fiber</li>
</ul>
</li>
<li>SAS<ul>
<li>Direct Connect SAS</li>
</ul>
</li>
<li>Power<ul>
<li>Node to Wall</li>
<li>Node to Rack</li>
<li>Rack to PDU</li>
<li>PDU to UPS</li>
</ul>
</li>
</ul>
<h2 id="storage">Storage</h2>
<ul>
<li>Disks<ul>
<li>HDD<ul>
<li>Size and Speed</li>
</ul>
</li>
<li>SSD<ul>
<li>Size, Speed and Useable number of Writes</li>
</ul>
</li>
</ul>
</li>
<li>Disk Shelves<ul>
<li>Controllers</li>
<li>JBODS</li>
</ul>
</li>
<li>Tape<ul>
<li>Cold Storage</li>
</ul>
</li>
</ul>
<h2 id="nodes">Nodes</h2>
<ul>
<li>
<p>Hypervisor</p>
<ul>
<li>
<p>CPU</p>
<ul>
<li>High Core Count</li>
</ul>
</li>
<li>
<p>MEM</p>
<ul>
<li>High Memory</li>
</ul>
</li>
<li>
<p>Graphical GPU</p>
<ul>
<li>SR-IOV to provide 3D graphics to each VM</li>
<li>NVIDIA GRID K2</li>
</ul>
</li>
<li>
<p>NICs</p>
<ul>
<li>1g Cat 6<ul>
<li>Management Interface</li>
</ul>
</li>
<li>10g Fiber Ethernet<ul>
<li>SR-IOV would be awesome here also</li>
<li>For public interface</li>
</ul>
</li>
<li>Mellonox Connect X 3 or higher Infiniband NIC <ul>
<li>SR-IOV to provide IB to each VM</li>
<li>FDR</li>
</ul>
</li>
<li>
<p>Fiber Channel HBA</p>
<ul>
<li>SAN connection to shared storage</li>
</ul>
</li>
<li></li>
</ul>
</li>
</ul>
</li>
<li>
<p>Compute</p>
<ul>
<li>
<p>CPU</p>
<ul>
<li>
<p>Balance between core count and CPU Speed</p>
</li>
<li>
<p>Intel</p>
<ul>
<li>
<p>Currently buying:</p>
</li>
<li>
<p><code>lscpu</code> shows</p>
<p><code>bash
Vendor ID:             GenuineIntel
CPU family:            6
Model:                 79
Model name:            Intel(R) Xeon(R) CPU E5-2683 v4 @ 2.10GHz
Stepping:              1
CPU MHz:               2599.980
CPU max MHz:           3000.0000
CPU min MHz:           1200.0000
BogoMIPS:              4190.19
Virtualization:        VT-x
L1d cache:             32K
L1i cache:             32K
L2 cache:              256K
L3 cache:              40960K
NUMA node0 CPU(s):     0-15,32-47
NUMA node1 CPU(s):     16-31,48-63
Flags:                 fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm pbe syscall nx pdpe1gb rdtscp lm constant_tsc arch_perfmon pebs bts rep_good nopl xtopology nonstop_tsc aperfmperf eagerfpu pni pclmulqdq dtes64 monitor ds_cpl vmx smx est tm2 ssse3 fma cx16 xtpr pdcm pcid dca sse4_1 sse4_2 x2apic movbe popcnt tsc_deadline_timer aes xsave avx f16c rdrand lahf_lm abm 3dnowprefetch epb cat_l3 cdp_l3 invpcid_single intel_pt spec_ctrl ibpb_support tpr_shadow vnmi flexpriority ept vpid fsgsbase tsc_adjust bmi1 hle avx2 smep bmi2 erms invpcid rtm cqm rdt_a rdseed adx smap xsaveopt cqm_llc cqm_occup_llc cqm_mbm_total cqm_mbm_local dtherm ida arat pln pts</code></p>
</li>
</ul>
</li>
<li>
<p>ARM</p>
<ul>
<li>Really watching this.</li>
<li>28-core Cavium ThunderX2 processors running at 2.0 GHz<ul>
<li><a href="https://www.top500.org/news/sandia-to-install-first-petascale-supercomputer-powered-by-arm-processors/">These are powering a new supercomputer at Sandia National Lab.</a></li>
<li><a href="https://www.top500.org/news/cray-adds-arm-option-to-xc50-supercomputer/">And another</a></li>
</ul>
</li>
<li>This is becoming more and more main stream.</li>
</ul>
</li>
<li>
<p>AMD</p>
<ul>
<li>Still keeping up. I manage a few hundered nodes of AMD but we are phasing these out</li>
</ul>
</li>
</ul>
</li>
<li>
<p>MEM</p>
<ul>
<li>
<p>The more the better</p>
</li>
<li>
<p>Check memory on the node</p>
<ul>
<li>
<p><code>cat /proc/meminfo | head -3</code> </p>
<p><code>bash
i22:~# cat /proc/meminfo | head -3
MemTotal:       528079828 kB
MemFree:        495977976 kB
MemAvailable:   502751960 kB</code></p>
</li>
<li>
<p><code>free -g</code> </p>
<p>```bash
i22:~# free -g
              total        used        free      shared  buff/cache   available
Mem:            503          31         461           1          10         467
Swap:             3           0           3</p>
<p>```</p>
</li>
<li>
<p>smem</p>
<ul>
<li>
<p>smem  reports physical memory usage, taking shared memory pages into account.  Unshared memory is reported as the USS (Unique Set Size).  Shared memory is divided evenly among the processes sharing that memory.  The unshared memory (USS) plus a process's proportion of shared memory is reported as the PSS  (Proportional  Set Size).  The USS and PSS only include physical memory usage.  They do not include memory that has been swapped out to disk. Memory can be reported by process, by user, by mapping, or system wide.  Both text mode and graphical output are available.</p>
</li>
<li>
<p>Example</p>
<ul>
<li>
<p><code>smem -w</code>  </p>
<p><code>bash
i22:~# smem -w
Area                           Used      Cache   Noncache 
firmware/hardware                 0          0          0 
kernel image                      0          0          0 
kernel dynamic memory      14962228    7805104    7157124 
userspace memory           17016380    1589884   15426496 
free memory               496101220  496101220          0</code></p>
</li>
<li>
<p><a href="https://www.techrepublic.com/article/how-to-install-and-use-the-smem-memory-reporting-tool-in-linux/">other examples</a></p>
</li>
</ul>
</li>
<li></li>
</ul>
</li>
</ul>
</li>
<li>
<p>128G Min.</p>
</li>
<li>
<p>256G Ok</p>
</li>
<li>
<p>512G Good</p>
</li>
<li>
<p>1TB Great</p>
</li>
<li>
<p>Speed:</p>
<ul>
<li>1600 MHz</li>
<li><code>dmidecode --type memory | grep Speed | grep -v Unknown | uniq</code></li>
</ul>
</li>
</ul>
</li>
<li>
<p>GPU</p>
</li>
<li>
<p>SSD</p>
</li>
<li>
<p>NIC</p>
</li>
</ul>
</li>
<li>
<p>Storage</p>
</li>
<li>
<p>Special</p>
</li>
</ul>
<h2 id="power">Power</h2>
<ul>
<li>Rack Power</li>
<li>Server Room Power</li>
</ul>
<h2 id="cooling">Cooling</h2>
<ul>
<li>Server Room HVAC<ul>
<li>Libert CRAC units</li>
</ul>
</li>
</ul></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js" defer></script>
        <script src="../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
